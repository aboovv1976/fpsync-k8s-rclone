apiVersion: batch/v1
kind: Job
metadata:
    name: rclone-1716169903-505484-0
spec:
    template:
        spec:
            containers:
            - name: rclone-1716169903-505484-0
              image: fra.ocir.io/fsssolutions/rclone-rsync:latest
              env:
              - name: FPART_JOBCOMMAND
                # This is generated by fpsync automatically
                value: /bin/sh -c '/usr/bin/rclone --oos-no-check-bucket --oos-upload-cutoff 10Mi --multi-thread-cutoff 10Mi --no-traverse --no-check-dest --multi-thread-streams 64 --transfers 2048 --oos-chunk-size 5120Mi --oos-upload-concurrency 32 --oos-disable-checksum --oos-leave-parts-on-error --files-from="/data/fpsync/parts/1716169903-505484/part.0" copy "/" "rclone:rclone-1/"' 1>/data/fpsync/log/1716169903-505484/0.stdout 2>/data/fpsync/log/1716169903-505484/0.stderr
              - name: BASE64_RCLONE_CONFIG
                # This is the base64 encoded value of rclone config file - base64 -w 0 ~/.config/rclone/rclone.conf
                # Generated by fpsync
                value: "W3JjbG9uZV0KdHlwZSA9IG9yYWNsZW9iamVjdHN0b3JhZ2UKcHJvdmlkZXIgPSBpbnN0YW5jZV9wcmluY2lwYWxfYXV0aApuYW1lc3BhY2UgPSBheGVob3FwZHh3ejQKY29tcGFydG1lbnQgPSBvY2lkMS5jb21wYXJ0bWVudC5vYzEuLmFhYWFhYWFhN3AyNXZtZWlkNTJodWtoeG80cGY2ZmdjNDRxbWl6dHN6Y3ozcnpqdnVxdXNrbGx0c2k3cQpyZWdpb24gPSB1cy1waG9lbml4LTEKCg=="
              volumeMounts:
              - name: lustre-volume
                mountPath: "/data"
            restartPolicy: Never
            volumes:
            - name: lustre-volume
              persistentVolumeClaim:
                claimName: lustre-pvc
